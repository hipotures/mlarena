templates:
  fast-cpu:
    model: autogluon_baseline
    config:
      hyperparameters:
        presets: medium_quality
        time_limit: 60
        use_gpu: false
        excluded_models:
          - NN_TORCH
  dev-cpu:
    model: autogluon_baseline
    config:
      hyperparameters:
        presets: medium_quality
        time_limit: 300
        use_gpu: false
  dev-gpu:
    model: autogluon_baseline
    config:
      hyperparameters:
        presets: medium_quality
        time_limit: 300
        use_gpu: true
  tabicl-fast:
    model: tabicl_skrub
    config:
      model:
        sample_fraction: 0.1
        cv_folds: 3
        n_estimators: 8
        batch_size: 4
        device: cuda
        norm_methods:
          - none
          - power
        output_labels: true
        label_threshold: 0.5
      hyperparameters:
        use_gpu: true
  tabicl-full:
    model: tabicl_skrub
    config:
      model:
        sample_fraction: 1.0
        cv_folds: 1
        n_estimators: 32
        batch_size: 8
        device: cuda
        norm_methods:
          - none
          - power
          - quantile
        output_labels: true
        label_threshold: 0.5
      hyperparameters:
        use_gpu: true
  best-cpu:
    model: autogluon_baseline
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 3600
        use_gpu: false
  best-cpu-fe00:
    model: autogluon_features_00
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 3600
        use_gpu: false
  best-gpu:
    model: autogluon_baseline
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 3600
        use_gpu: true
  extreme-gpu:
    model: autogluon_baseline
    config:
      hyperparameters:
        presets: extreme_quality
        time_limit: 86400
        use_gpu: true
  time8-cpu:
    model: autogluon_baseline
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 28800
        use_gpu: false
  best-cpu-fe01:
    model: autogluon_features_01
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 3600
        use_gpu: false
  best-cpu-fe02:
    model: autogluon_features_02
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 3600
        use_gpu: false
  best-cpu-fe03:
    model: autogluon_features_03
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 3600
        use_gpu: false
  best-cpu-fe04:
    model: autogluon_features_04
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 3600
        use_gpu: false
  best-cpu-fe05:
    model: autogluon_features_05
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 3600
        use_gpu: false
  best-cpu-fe06:
    model: autogluon_features_06
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 3600
        use_gpu: false
  best-cpu-fe07:
    model: autogluon_features_07
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 3600
        use_gpu: false
  best-cpu-fe08:
    model: autogluon_features_08
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 3600
        use_gpu: false
  best-cpu-fe09:
    model: autogluon_features_09
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 3600
        use_gpu: false
  best-cpu-fe10:
    model: autogluon_features_10
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 3600
        use_gpu: false
  best-cpu-rich-baseline:
    model: autogluon_features_rich_baseline
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 7200
        use_gpu: false
  best-cpu-lgbm-fe-rich:
    model: lgbm_fe_rich
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 3600
        use_gpu: false
  best-cpu-xgb-fe-rich:
    model: xgb_fe_rich_model
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 3600
        use_gpu: false
  best-cpu-fe-rich:
    model: autogluon_fe_rich
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 3600
        use_gpu: false
  eda-cpu:
    model: autogluon_eda_features
    config:
      hyperparameters:
        presets: medium_quality
        time_limit: 600
        use_gpu: false
  tuned-cpu:
    model: autogluon_tuned
    config:
      hyperparameters:
        presets: medium_quality
        time_limit: 600
        use_gpu: false
      model:
        num_trials: 10
        searcher: auto
  eda-8h-cpu:
    model: autogluon_eda_features
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 28800
        use_gpu: false
      model:
        leaderboard_rows: 20
  eda-8h-gpu:
    model: autogluon_eda_features
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 28800
        use_gpu: true
      model:
        leaderboard_rows: 20

  # Quick smoke tests for new TE+bagging variants (5 min, medium, minimal folds)
  dev-fe23-te:
    model: autogluon_features_23_target_bagging
    config:
      hyperparameters:
        presets: medium_quality
        time_limit: 300
        use_gpu: false
        num_bag_folds: 2
        num_stack_levels: 1
      model:
        target_encoding_folds: 4
        target_encoding_smoothing: 1.0
        enable_woe: true
  dev-fe24-te:
    model: autogluon_features_24_target_bagging_nowoe
    config:
      hyperparameters:
        presets: medium_quality
        time_limit: 300
        use_gpu: false
        num_bag_folds: 2
        num_stack_levels: 1
      model:
        target_encoding_folds: 4
        target_encoding_smoothing: 1.5
        enable_woe: false
  # ===================================================================
  # SERIA 5 EKSPERYMENTÃ“W - Feature Engineering & Model Optimization
  # ===================================================================
  exp01-tier1:
    model: exp01_tier1_features
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 5400  # 1.5h
        num_bag_folds: 5
        num_stack_levels: 1
        use_gpu: false
      preprocessing:
        feature_set: tier1_critical
  exp02-encoding:
    model: exp02_tier2_encoding
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 5400  # 1.5h
        num_bag_folds: 5
        num_stack_levels: 1
        use_gpu: false
      preprocessing:
        feature_set: tier2_encoding
        include_tier1: true
  exp03-lgbm-optuna:
    model: exp03_lgbm_optuna
    config:
      hyperparameters:
        n_trials: 50
        n_folds: 5
        early_stopping_rounds: 50
        verbose_eval: 100
        use_gpu: false
      preprocessing:
        feature_set: tier1_critical
  exp04-stacking:
    model: exp04_stacking_ensemble
    config:
      hyperparameters:
        n_folds: 5
        early_stopping_rounds: 50
        base_model_iterations: 500
        use_gpu: false
      preprocessing:
        feature_set: tier2_encoding
        include_tier1: true
  exp05-transfer:
    model: exp05_transfer_learning
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 5400
        pretrain_time_limit: 1800
        finetune_time_limit: 3600
        num_bag_folds: 5
        num_stack_levels: 1
        use_gpu: false
      preprocessing:
        feature_set: tier1_with_transfer
        use_original_dataset: true

  best-cpu-fe11:
    model: autogluon_features_11
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 7200
        use_gpu: false
        excluded_models:
          - NN_TORCH
  best-cpu-fe12:
    model: autogluon_features_12
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 7200
        use_gpu: false
        excluded_models:
          - NN_TORCH
  best-cpu-fe13:
    model: autogluon_features_13
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 7200
        use_gpu: false
        excluded_models:
          - NN_TORCH
  best-cpu-fe14:
    model: autogluon_features_14
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 7200
        use_gpu: false
        excluded_models:
          - NN_TORCH
  best-cpu-fe15:
    model: autogluon_features_15
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 7200
        use_gpu: false
        excluded_models:
          - NN_TORCH
  best-cpu-fe16:
    model: autogluon_features_16
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 7200
        use_gpu: false
        excluded_models:
          - NN_TORCH
  best-cpu-fe17:
    model: autogluon_features_17
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 7200
        use_gpu: false
        excluded_models:
          - NN_TORCH
  best-cpu-fe18:
    model: autogluon_features_18
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 7200
        use_gpu: false
        excluded_models:
          - NN_TORCH
  best-cpu-fe19:
    model: autogluon_features_19
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 7200
        use_gpu: false
        excluded_models:
          - NN_TORCH
  best-cpu-fe20:
    model: autogluon_features_20
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 7200
        use_gpu: false
        excluded_models:
          - NN_TORCH

  # ===================================================================
  # ULTIMATE OPTIMIZATION - FE21 & FE22
  # ===================================================================
  best-cpu-fe21:
    model: autogluon_features_21
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 21600
        num_bag_folds: 8
        num_stack_levels: 2
        use_gpu: false
        excluded_models:
          - NN_TORCH
      model:
        leaderboard_rows: 30

  best-cpu-fe22:
    model: autogluon_features_22_target_encoding
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 21600
        num_bag_folds: 8
        num_stack_levels: 2
        use_gpu: false
        excluded_models:
          - NN_TORCH
      model:
        leaderboard_rows: 30

  best-cpu-fe23:
    model: autogluon_features_23_target_bagging
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 28800
        num_bag_folds: 8
        num_stack_levels: 2
        use_gpu: false
        excluded_models:
          - NN_TORCH
      model:
        leaderboard_rows: 40
        target_encoding_folds: 5
        target_encoding_smoothing: 1.0
        enable_woe: true

  best-cpu-fe24:
    model: autogluon_features_24_target_bagging_nowoe
    config:
      hyperparameters:
        presets: best_quality
        time_limit: 28800
        num_bag_folds: 8
        num_stack_levels: 2
        use_gpu: false
        excluded_models:
          - NN_TORCH
      model:
        leaderboard_rows: 40
        target_encoding_folds: 6
        target_encoding_smoothing: 2.0
        enable_woe: false

  # ===================================================================
  # ENSEMBLE MODELS
  # ===================================================================
  ensemble-best:
    model: ensemble_best_models
    config:
      hyperparameters:
        presets: null
        time_limit: null
        use_gpu: false
      model:
        ensemble_method: weighted_average
        calibration: false
        power: 2.0
        models:
          - name: fe17_log_EMI
            path: experiments/*/artifacts/best-cpu-fe17-autogluon_features_17
            weight: 0.30
            public_score: 0.92356
          - name: fe20_student_debt
            path: experiments/*/artifacts/best-cpu-fe20-autogluon_features_20
            weight: 0.25
            public_score: 0.92353
          - name: original_best
            path: AutogluonModels
            weight: 0.45
            public_score: 0.92434

  ensemble-ultimate:
    model: ensemble_best_models
    config:
      hyperparameters:
        presets: null
        time_limit: null
        use_gpu: false
      model:
        ensemble_method: weighted_average
        calibration: true
        power: 2.0
        models:
          - name: fe17_log_EMI
            path: experiments/*/artifacts/best-cpu-fe17-autogluon_features_17
            weight: 0.25
            public_score: 0.92356
          - name: fe20_student_debt
            path: experiments/*/artifacts/best-cpu-fe20-autogluon_features_20
            weight: 0.20
            public_score: 0.92353
          - name: fe21_ultimate
            path: experiments/*/artifacts/best-cpu-fe21-autogluon_features_21
            weight: 0.25
            public_score: null
          - name: fe22_target_encoded
            path: experiments/*/artifacts/best-cpu-fe22-autogluon_features_22_target_encoding
            weight: 0.20
            public_score: null
          - name: original_best
            path: AutogluonModels
            weight: 0.10
            public_score: 0.92434
